<!-- auth-page wrapper -->
<div class="auth-page-wrapper bg-light py-5 d-flex justify-content-center align-items-center min-vh-100">
    <div class="bg-light"></div>
    <!-- auth-page content -->
    <div class="auth-page-content overflow-hidden pt-lg-5">
        <div class="container">
            <div class="row">
                <div class="col-3"></div>
                <div class="col-6">
                    <div class="card">
                            <div class="col-lg-12">
                                <div class="p-lg-5 p-4">

                                    <div class="text-center">
                                        <h5 class="text-primary">¡Bienvenido!</h5>
                                        <p class="text-muted">Ingrese sus credenciales para el acceder.</p>
                                    </div>

                                    <div class="mt-4">
                                        <form [formGroup]="loginForm" (ngSubmit)="onSubmitLoginYToken()">
                                            <div class="mb-3">
                                                <label for="username" class="form-label">Dirección de correo electrónico</label>
                                                <input type="text" class="form-control" id="username" [(ngModel)]="usuario.Email" name="email" placeholder="Enter username" formControlName="email" [ngClass]="{ 'is-invalid': submitted && f['email'].errors }">
                                                @if (submitted && f['email'].errors) {
                                                <div class="invalid-feedback" align="left">
                                                    @if(f['email'].errors['required']){
                                                    <div>Username is required</div>}
                                                    @if(f['email'].errors['email']){
                                                    <div>Email must be a valid email address
                                                    </div>
                                                    }
                                                </div>
                                                }
                                            </div>

                                            <div class="mb-3">
                                                <div class="float-end">
                                                    <a routerLink="/auth/pass-reset/cover" class="text-muted">¿Olvidé mi contraseña?</a>
                                                </div>
                                                <label class="form-label" for="password-input">Contraseña</label>
                                                <div class="position-relative auth-pass-inputgroup mb-3">
                                                    <input [type]="fieldTextType ? 'text' : 'password'" [(ngModel)]="usuario.Password" name="password" class="form-control pe-5 password-input" placeholder="Enter password" id="password-input" formControlName="password" [ngClass]="{ 'is-invalid': submitted && f['password'].errors }">
                                                    <button class="btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted password-addon" type="button" id="password-addon"><i class="mdi align-middle" [ngClass]="{'mdi-eye-off-outline': !fieldTextType, 'mdi-eye-outline': fieldTextType
                                                }" (click)="toggleFieldTextType()"></i></button>
                                                    @if (submitted && f['password'].errors) {
                                                    <div class="invalid-feedback">
                                                        @if(f['password'].errors['required']){
                                                        <span>Password is required</span>
                                                        }
                                                    </div>
                                                    }

                                                </div>
                                            </div>

                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="" id="auth-remember-check">
                                                <label class="form-check-label" for="auth-remember-check">Recordar</label>
                                            </div>

                                            <div class="mt-4">
                                                <button class="btn btn-primary w-100" type="submit">Iniciar Sesión</button>
                                            </div>

                                        </form>
                                    </div>

                                    <div class="mt-5 text-center">
                                        <p class="mb-0">¿No tienes una cuenta? <a routerLink="/auth/register" class="fw-semibold text-primary text-decoration-underline"> Crear Cuenta</a> </p>
                                    </div>
                                </div>
                            </div>
                            <!-- end col -->
                        <!-- end row -->
                    </div>
                    <!-- end card -->
                </div>
                <div class="col-3"></div>
                <!-- end col -->

            </div>
            <!-- end row -->
        </div>
        <!-- end container -->
    </div>
    <!-- end auth page content -->

    <!-- footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="text-center">
                        <p class="mb-0">&copy; {{year}} </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- end Footer -->
</div>
<!-- end auth-page-wrapper -->
<!-- end auth-page-wrapper -->
<app-toasts aria-live="polite" aria-atomic="true"></app-toasts>
